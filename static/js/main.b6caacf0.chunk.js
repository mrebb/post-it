(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e){e.exports=[{id:"1234",title:"phone app",comments:[{comment:"Wow! Article is interesting!!",commentedBy:"Madhu Rebbana"},{comment:"Awesome!! Loved it!!",commentedBy:"John Cokos"},{comment:"Wow! Article is interesting!!",commentedBy:"Madhu Rebbana"},{comment:"Awesome!! Loved it!!",commentedBy:"John Cokos"},{comment:"Wow! Article is interesting!!",commentedBy:"Madhu Rebbana"},{comment:"Awesome!! Loved it!!",commentedBy:"John Cokos"},{comment:"Wow! Article is interesting!!",commentedBy:"Madhu Rebbana"},{comment:"Awesome!! Loved it!!",commentedBy:"John Cokos"}],num_comments:8,num_votes:102,link:"https://imgur.com/a/8ueKI7W",thumbnail:"https://b.thumbs.redditmedia.com/keI815GVqHukmhD0dZOxWGds0aGYoj9fMmzr4MVlJDo.jpg"},{id:"1235",title:"Seattle seahawks",comments:[{comment:"Awesome!! Loved it!!",commentedBy:"John Cokos"}],num_comments:1,num_votes:300,link:"https://imgur.com/a/8ueKI7W",thumbnail:"https://b.thumbs.redditmedia.com/lHThQ4Ieooc7JW9vRK9io5943DoN5Ne4GKGMG54Wn6Y.jpg"},{id:"1236",title:"Arizona Diamondbacks ",comments:[{comment:"way to go",commentedBy:"Sara Bruce"}],num_comments:1,num_votes:100,link:"https://imgur.com/a/8ueKI7W",thumbnail:"https://b.thumbs.redditmedia.com/AHeAbmhAqISeOal3dahagvgEaqVEvC87JAvsa6Rh_7w.jpg"}]},105:function(e,t,n){e.exports=n.p+"static/media/logo.f98ce302.png"},106:function(e,t,n){e.exports=n(291)},111:function(e,t,n){},262:function(e,t,n){},264:function(e,t,n){},266:function(e,t,n){},268:function(e,t,n){},285:function(e,t,n){},287:function(e,t,n){},289:function(e,t,n){},291:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(21),i=n.n(r),c=(n(111),n(16)),l=n(17),s=n(19),m=n(18),u=n(20),d=n(29),h=n(294),p=n(295),f=n(27),b=n(24),g=n(293),v=n(25),O=n.n(v),E=n(32),S=n.n(E),C=function(){return{type:"LOGOUT",payload:{isLoggedIn:!1,username:null}}},w=n(50),y=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=Object(b.a)({},e.target.name,e.target.value);n.setState(t)},n.onSubmit=function(e){e.preventDefault(),n.validateUser(n.state.username)?(n.props.login(n.state.username),n.setState({redirect:!0})):(alert("invalid user account"),n.setState(Object(f.a)({},n.initialState)))},n.validateUser=function(e){return w.filter(function(t){return t.username===e}).length>0},n.initialState={username:"",password:"",redirect:!1},n.state=Object(f.a)({},n.initialState),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isLoggedIn&&this.props.logout()}},{key:"render",value:function(){return o.a.createElement(a.Fragment,null,o.a.createElement("form",{onSubmit:this.onSubmit,autoComplete:"off"},o.a.createElement(S.a,{required:!0,label:"Username",placeholder:"johndoe",value:this.state.username,margin:"normal",name:"username",onChange:this.onChange}),o.a.createElement("br",null),o.a.createElement(S.a,{label:"Password",placeholder:"@wesome",value:this.state.password,margin:"normal",name:"password",onChange:this.onChange}),o.a.createElement("br",null),o.a.createElement(O.a,{label:"Submit",style:{margin:15},type:"submit",variant:"contained",color:"primary"},"Login")),this.state.redirect&&o.a.createElement(g.a,{to:"/dashboard"}))}}]),t}(a.Component),j={login:function(e){return{type:"LOGIN",payload:{isLoggedIn:!0,username:e}}},logout:C},k=Object(d.b)(function(e){return{auth:e.authState}},j)(y),A=(n(262),n(264),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=Object(b.a)({},e.target.name,e.target.value);n.setState(t)},n.onSubmit=function(e){e.preventDefault(),n.props.onComplete(n.state.comment),n.setState({comment:""})},n.state={comment:""},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{className:"comment-form",onSubmit:this.onSubmit,autoComplete:"off"},o.a.createElement("textarea",{required:!0,name:"comment",maxLength:"160",value:this.state.comment,onChange:this.onChange,placeholder:"write comment (160 characters max)..."}),o.a.createElement(O.a,{label:"Submit",id:"sendBtn",type:"submit",variant:"contained",color:"primary"},"Send"))}}]),t}(a.Component)),N=n(99),I=n.n(N),T=(n(266),function(e){return o.a.createElement("ul",null,e.comments.map(function(e,t){return o.a.createElement("div",{key:t,className:"comments-container"},o.a.createElement("li",{key:2*t*t},o.a.createElement("br",null),o.a.createElement("span",{className:"person"},o.a.createElement("img",{className:"avatar",alt:"avatar",src:I.a}),e.commentedBy),o.a.createElement("br",null),o.a.createElement("span",{className:"comment"},e.comment)))}))}),L=n(100),M=n(101),R=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).showComments=function(){var e=n.state.loadComments;n.setState({loadComments:!e})},n.onChange=function(e){var t=Object(b.a)({},e.target.name,e.target.value);n.setState(t)},n.insertComment=function(e){var t={};t.article=n.props.article,t.comment={comment:e,commentedBy:n.state.fullName},n.props.postArticleComment(t)},n.vote=function(){var e=n.props.article;n.props.voteArticle(e)},n.id=function(){return"_"+Math.random().toString(36).substr(2,9)},n.state={loadComments:!1,fullName:"",articles:n.props.articles},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=w.filter(function(t){return t.username===e.props.auth.username}),n=t.length>0?t[0].fullname:null;this.setState({fullName:n})}},{key:"render",value:function(){return o.a.createElement("div",{className:"article-container"},o.a.createElement("li",null,o.a.createElement("i",{onClick:this.vote},o.a.createElement(L.a,{size:"2x",style:{cursor:"pointer",marginRight:"95%"},className:"font-awesome",icon:M.a})),o.a.createElement("p",{className:"article-votes"},this.props.article.num_votes),o.a.createElement("div",{className:"article-title",style:{display:"flex"}},o.a.createElement("h4",{className:"title"},this.props.article.title,o.a.createElement("span",null,o.a.createElement("a",{id:"article-link",target:"_blank",style:{marginLeft:"8%",fontSize:"0.3em"},rel:"noopener noreferrer",href:this.props.article.link},this.props.article.link))),o.a.createElement("p",{onClick:this.showComments,className:"article-comments"},this.props.article.num_comments," comments")),this.state.loadComments&&this.props.article.comments.length>0&&o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"article-comments-section"},o.a.createElement(T,{comments:this.props.article.comments}),o.a.createElement(A,{onComplete:this.insertComment}))),this.state.loadComments&&0===this.props.article.comments.length&&o.a.createElement(A,{onComplete:this.insertComment})))}}]),t}(a.Component),B={postArticleComment:function(e){return{type:"POST_COMMENT",payload:e}},voteArticle:function(e){return{type:"VOTE_ARTICLE",payload:e}}},_=Object(d.b)(function(e){return{auth:e.authState,articles:e.articleState}},B)(R),D=(n(268),function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).id=function(){return"_"+Math.random().toString(36).substr(2,9)},n.onSubmit=function(e){e.preventDefault();var t={};t.id=n.id(),t.title=n.state.title,t.link=n.state.link,t.thumbnail=n.state.thumbnail,t.comments=[],t.num_comments=0,t.num_votes=0,n.props.onComplete(t),n.setState(Object(f.a)({},n.defaultState,{isPosted:!0}))},n.onChange=function(e){var t=Object(b.a)({},e.target.name,e.target.value);n.setState(t)},n.defaultState={title:"",link:"",thumbnail:"",id:"",isPosted:!1};var a=n.defaultState;return n.state=Object(f.a)({},a),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"article-form-container"},o.a.createElement("form",{onSubmit:this.onSubmit,autoComplete:"off"},o.a.createElement(S.a,{required:!0,label:"Title",placeholder:"Title..",value:this.state.title,margin:"normal",name:"title",onChange:this.onChange}),o.a.createElement("br",null),o.a.createElement(S.a,{required:!0,label:"Link",placeholder:"URL..",value:this.state.link,margin:"normal",name:"link",onChange:this.onChange}),o.a.createElement("br",null),o.a.createElement(S.a,{label:"Thumbnail",placeholder:"Thumbnail URL..",value:this.state.thumbnail,margin:"normal",name:"thumbnail",onChange:this.onChange}),o.a.createElement("br",null),o.a.createElement(O.a,{label:"Submit",style:{margin:15},type:"submit",variant:"contained",color:"primary"},this.props.buttonText)),this.state.isPosted&&o.a.createElement("p",{style:{color:"green"}},"Successfully posted!!"))}}]),t}(a.Component)),U=n(292),J=n(102),W=(n(285),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).onClick=function(e){n.handleClose(),n.props.signout()},n.handleStateChange=function(e){n.setState({isMenuOpen:e.isOpen})},n.handleClose=function(){n.setState({isMenuOpen:!1})},n.state={isMenuOpen:!1},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(J.bubble,{isOpen:this.state.isMenuOpen,onStateChange:function(t){return e.handleStateChange(t.isOpen)},id:"sidebar",className:"my-menu",width:"55%"},o.a.createElement(a.Fragment,null,o.a.createElement(O.a,{label:"Submit",style:{margin:15},type:"submit",variant:"contained",color:"primary",onClick:this.onClick},"Logout")),o.a.createElement(U.a,{onClick:function(){return e.handleClose()},to:"/dashboard"},"Home"))}}]),t}(a.Component)),x=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).onClick=function(e){n.props.logout(),n.setState({redirect:!0}),window.location.reload()},n.postArticle=function(e){n.props.addArticle(e)},n.state={redirect:!1,reload:!1},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.auth.isLoggedIn?o.a.createElement(a.Fragment,null,o.a.createElement(W,{signout:this.onClick}),o.a.createElement(O.a,{label:"Submit",style:{margin:15},onClick:this.onClick,type:"submit",variant:"contained",color:"primary"},"Logout"),o.a.createElement("section",{id:"home"},o.a.createElement("h1",null,"Welcome to POST-IT"),o.a.createElement(D,{onComplete:this.postArticle,buttonText:"CREATE POST"}),this.props.articles.length>0?o.a.createElement("ul",null,this.props.articles.sort(function(e,t){return t.num_votes-e.num_votes}).map(function(e,t){return o.a.createElement(_,{key:e.id||t,article:e})})):o.a.createElement("h2",null,"No Articles :(")),this.state.redirect&&o.a.createElement(g.a,{to:"/"})):o.a.createElement(g.a,{to:"/"})}}]),t}(a.Component),V={addArticle:function(e){return{type:"ADD",payload:e}},logout:C},K=Object(d.b)(function(e){return{auth:e.authState,articles:e.articleState}},V)(x),G=n(31),Y=n(103),P=JSON.parse(window.localStorage.getItem("token"))||{isLoggedIn:!1,username:null},q=n(22),z=n(104);!window.localStorage.getItem("articles")&&window.localStorage.setItem("articles",JSON.stringify(z));var F=JSON.parse(window.localStorage.getItem("articles")),H=function(e){return function(t){return function(n){console.log("1.previous state of app: ",e.getState()),console.log("2.dispatching action..",n);var a=t(n);return console.log("3.current state of app: ",e.getState()),a}}},Q=function(e){return function(e){return function(t){if("LOGIN"===t.type){if(""!==t.payload.name)return e(t);alert("Error: user name should not be left blank")}else if("POST_COMMENT"===t.type){if(""!==t.payload.comment.comment)return e(t);alert("Error: comment field should not be left blank")}else{if("VOTE_ARTICLE"!==t.type)return e(t);if(t.payload.id)return e(t);alert("Error: article id should not be null")}}}},X=Object(G.c)({authState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"LOGIN":var o={isLoggedIn:!0,username:a.username};return window.localStorage.setItem("token",JSON.stringify(o)),Object(f.a)({},e,a);case"LOGOUT":var r={isLoggedIn:!1,username:a.username};return window.localStorage.setItem("token",JSON.stringify(r)),Object(f.a)({},e,a);default:return e}},articleState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"ADD":var o=Object(q.a)(e).concat([a]);return window.localStorage.setItem("articles",JSON.stringify(o)),Object(q.a)(o);case"UPDATE":var r=e.filter(function(e){return e.id!==a.id}),i=Object(q.a)(r).concat([a]);return window.localStorage.setItem("articles",JSON.stringify(i)),Object(q.a)(i);case"POST_COMMENT":var c=Object(q.a)(e);return c.map(function(e){return e.id===a.article.id&&(e.comments.push(a.comment),e.num_comments=e.num_comments+1),null}),window.localStorage.setItem("articles",JSON.stringify(c)),Object(q.a)(c);case"VOTE_ARTICLE":console.log("updated set",a);var l=Object(q.a)(e);return l.map(function(e){return e.id===a.id&&(e.num_votes=e.num_votes+1),null}),window.localStorage.setItem("articles",JSON.stringify(l)),Object(q.a)(l);case"DELETE":var s=e.filter(function(e){return e.id!==a.id});return Object(q.a)(s);case"FETCH":var m=e.filter(function(e){return e.id===a.id});return Object(q.a)(m);case"FETCH_ALL":return Object(q.a)(e);default:return e}}}),Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||G.d,$=Object(G.e)(X,Z(Object(G.a)(Y.a,H,Q))),ee=(n(287),n(105)),te=n.n(ee),ne=(n(289),function(e){return o.a.createElement("div",{className:"header-main"},o.a.createElement("img",{src:te.a,alt:"post-it",className:"header-logoSize"}),o.a.createElement("h1",{className:"header-text-center"},"Post | Comment | Vote"))}),ae=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(d.a,{store:$},o.a.createElement(h.a,null,o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:"App"},o.a.createElement(ne,null),o.a.createElement(p.a,{exact:!0,path:"/",component:k}),o.a.createElement(p.a,{exact:!0,path:"/dashboard",component:K})))))}}]),t}(a.Component),oe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function re(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(o.a.createElement(ae,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/post-it",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/post-it","/service-worker.js");oe?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):re(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):re(t,e)})}}()},50:function(e){e.exports=[{username:"madhu",fullname:"Madhu Rebbana"},{username:"john",fullname:"John Cokos"},{username:"sara",fullname:"Sara Bruce"}]},99:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAACP0lEQVRYCe3BzUpUYQDH4b/j2DDSlykuLL0BTcvUVKi7MHThrqSMqJ0fF6AlmIYiAxa4F4yUIaGbELGIdppu1Knoa+YM6q9NMGde33fOHHXhwueRzuj0I0IHwyywRoosWVKsscAQ7UR0XNQxxhYumzynVkdFNbNkCeKRoErh0cs3ipWiR2FQxhvCShBVcShnmaNIUq5glLGMTZpxmokR4xYTZLBJElUQXmOzQb18uM4mNgkVRi82aeploBEPm265Uc13bMZlwSQ2u1TKhVnsmmVBC3YzsqOOLHYxWRDHzuOqbBjDJSYL4riM6jAibOHSLAtacdmgRCY6cHspC17h1iYTw7hlaJCBJjzcBmVigUK+0iAfmtikkHmZWKOwDBO0ECdOK5N4FLYqEylO0o5MZDlJnkxkOUmeTKQIssc6K6ywwR5BdmRiDZc/vKWfG5zTf8S4yWPekcZlVSYWsPlMH+flwAUe8gWbeZkYwvSXJ5QqAFGekcY0IBPt5PvFbRWJTn6Tr1UmImzi168QeIrfOiU6jBf4XVYIXMFvRDbUkiXnvkKgj5wMNbIjQU6aThWJO2TImZILVaTI+UGnisBdfpKzTYXc6MEvzQMF4BEefl0qjAT5lmmQA418IN+0ghAlSb4Dktzjony4RDfvOSDfEqUKRjlJDtvnI4vMMccin9jnsCXiKg5REoQ1TanCoIddirVNl8Kjkhk8gmSYokJHxTVG2cBlnRFqdFxEaGOQeVbZwcNjh1XmGaCVEp3R6fcPYgeoZVXn49EAAAAASUVORK5CYII="}},[[106,2,1]]]);
//# sourceMappingURL=main.b6caacf0.chunk.js.map